<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2019 by anonymous (http://jsbin.com/soboqijuwo/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>

  <head>
    <meta name="description" content="LA 458/558 16b Leaflet intro to internal JSON and GeoJSON - 2018" />
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <style id="jsbin-css">
html, body, #map { 
	height: 480px; 
	margin: 0; 
	padding: 0;
}
</style>
</head>
  
  <body>
<div id="map"></div>
  <script id="jsbin-javascript">
console.clear();

//JSON 
var cities = [{
    "name" : "Denver",
    "lat" : "39.74",
    "long" : "-104.99",
    "iconColor" : "0000ff",
    "popupText" : "The city is located in Colorado"
},
{
    "name" : "Ames",
    "lat" : "42",
    "long" : "-93",
    "iconColor" : "ff0000",
    "popupText" : "The city is located in Iowa"
}];




//GeoJSON
var myGeoJSON = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[-107.57812499999999,46.800059446787316]}},{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[-105.8203125,34.59704151614417]}},{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[-92.46093749999999,42.032974332441405]}},{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[-109.6875,43.32517767999296],[-100.37109375,40.713955826286046],[-92.8125,35.60371874069731],[-83.84765625,40.84706035607122]]}}]};




//Base Layers
var OSM = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
    maxZoom: 18
});


//create the map
var map = L.map('map', {
  center: new L.LatLng(42.0908, -93.6208),
  zoom: 4,
  layers: [OSM]
});


//Adding JSON to map

var iconMarkerURL = "http://www.googlemapsmarkers.com/v1/";

 for (var i = 0; i < cities.length; i++) {

  //access the data by index i   for example 
  console.log(cities[i].name);
  
  var marker = L.marker([cities[i].lat, cities[i].long], {    
    icon: L.icon({
      iconUrl: iconMarkerURL + cities[i].iconColor,
      iconSize:[10, 17],
      iconAnchor:[5, 17],
      popupAnchor:[0, -20]
    }),
    title: cities[i].name
  }).bindPopup("<b>"+cities[i].name+"</b><br>"+cities[i].popupText+".").addTo(map);
}



//style for geojson polyline and polygons
//Markers will use default
var myStyle = {
    "color": "#ff7800",
    "weight": 5,
    "opacity": 0.65,
};

L.geoJSON(myGeoJSON, {
    style: myStyle,
}).addTo(map);


</script>
</body>
</html>
